!function(){"use strict";var n=2;function t(e){e=new RegExp("(^| )".concat(e,"=([^;]+)")),e=document.cookie.match(e);if(e)return decodeURI(e[n])}function o(e,n,t){var n=encodeURI(n),o=window.location.hostname,r=new Date,t=(r.setTime(r.getTime()+t),r.toUTCString());document.cookie="".concat(e,"=").concat(n,"; expires=").concat(t,"; path=/; domain=").concat(o)}var r="VtexRCSessionIdv7",a="VtexRCMacIdv7",i="checkout.vtex.com";function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)})}var s="=",d=1;function u(){var e=t(r),n=null!=e?e:c();return o(r,n,18e5),{sessionID:n,isNewSessionID:!e}}function w(){var e=t(a),n=null!=e?e:c();return o(a,n,31536e6),{macID:n,isNewUser:!e}}function v(){return Object.assign(Object.assign(Object.assign({},u()),w()),{accountName:null!=(e=null==(e=window.__RUNTIME__)?void 0:e.account)?e:window.jsnomeLoja,url:window.location.href,ref:window.document.referrer,orderFormId:function(){if(null!=(e=null==(e=window.vtexjs)?void 0:e.checkout)&&e.orderFormId)return window.vtexjs.checkout.orderFormId;var e=t(i);return null==e?void 0:e.split(s)[d]}()});var e}var x="https://af.vtex.com/api/activity-flow",l="Event";function f(e){var t,o;navigator.sendBeacon?navigator.sendBeacon(x,e):(t=x,o=JSON.stringify(e),new Promise(function(e){var n=new XMLHttpRequest;n.timeout=1e4,n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json"),n.send(o),n.onload=function(){if(200===n.status||202===n.status)return u(),e(o)}}))}var m="";function e(){var e;window.history?(window.history.pushState=p("pushState"),window.history.replaceState=p("replaceState"),window.addEventListener("popstate",h)):setInterval(h,1e3),e=h,"complete"===document.readyState?e():window.attachEvent?window.attachEvent("onload",e):window.addEventListener("load",e,!1)}function p(a){var i=window.history[a];return function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var o=i.apply(this,n),r=new Event(a.toLowerCase());return h(),r.arguments=n,window.dispatchEvent(r),o}}function h(){var e,n=v();m!==n.url&&(m=window.location.href,n={eventType:"pageView",SessionId:n.sessionID,MacId:n.macID,IsNewUser:n.isNewUser,Url:n.url,Ref:n.ref,accountName:n.accountName,clientdate:(new Date).getTime(),isFirstEvent:n.isNewSessionID,orderFormId:n.orderFormId},e=n,e=Object.assign(Object.assign({},n),{DataType:l}),f(JSON.stringify(e)))}e()}();
//# sourceMappingURL=af.js.map
